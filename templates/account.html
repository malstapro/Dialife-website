{% extends 'base.html' %}

{% block title %} DL | {{username}} {% endblock %}

{% block content %}
{% if user_logged and form_valid %}
<header class="d-flex justify-content-around py-3" style="user-select: auto;">
    <ul class="nav nav-pills">
        <li class="nav-item">
            <a href="{% url 'dashboard:main' %}" class="nav-link">Головна</a>
        </li>
        <li class="nav-item">
            <a href="{% url 'dashboard:info' %}" class="nav-link">Інформація</a>
        </li>
    </ul>
    <div class="d-felx flex-row">
        <ul class="nav nav-pills">
            <li class="nav-item">
                <a href="{% url 'account:account' %}?username={{username}}" class="nav-link active">Профіль</a>
            </li>
            <li class="nav-item">
                <a href="{% url 'account:logout' %}" class="nav-link">Вийти</a>
            </li>
        </ul>
    </div>
</header>

<div class="container flex-grow-1">
    <h4 class="font-weight-bold py-3 mb-4">
        Налаштування профілю
    </h4>
    <div class="tab-pane fade active show">
        <div class="card-body media align-items-center">
            <p class="">Ім'я користувача: {{username}}</p>
            <p class="">E-mail: {{email}}</p>
        </div>
        <hr class="">
        <div class="card-body">
            <form action="" class="" method='POST'>

                {% csrf_token %}

                <div class="form-group">
                    <label class="form-label">Ім'я користувача</label>
                    <input type="text" name="username" class="form-control mb-1" value="{{username}}">
                </div>
                <div class="form-group">
                    <label class="form-label">Ім'я</label>
                    <input type="text" name="first_name" class="form-control mb-1" value="{{first_name}}">
                </div>
                <div class="form-group">
                    <label class="form-label">Прізвище</label>
                    <input type="text" name="last_name" class="form-control mb-1" value="{{last_name}}">
                </div>
                <div class="form-group">
                    <label class="form-label">E-mail</label>
                    <input type="email" name="email" class="form-control mb-1" value="{{email}}">
                </div>
                <div class="form-group">
                    <input type="submit" value="Зберегти" class="form-control">
                </div>
            </form>
        </div>
    </div>
</div>
{% elif user_logged and not form_valid %}

<header class="d-flex justify-content-around py-3" style="user-select: auto;">
    <ul class="nav nav-pills">
        <li class="nav-item">
            <a href="{% url 'dashboard:main' %}" class="nav-link">Головна</a>
        </li>
        <li class="nav-item">
            <a href="{% url 'dashboard:info' %}" class="nav-link">Інформація</a>
        </li>
    </ul>
    <div class="d-felx flex-row">
        <ul class="nav nav-pills">
            <li class="nav-item">
                <a href="{% url 'account:account' %}?username={{username}}" class="nav-link active">Профіль</a>
            </li>
            <li class="nav-item">
                <a href="{% url 'account:logout' %}" class="nav-link">Вийти</a>
            </li>
        </ul>
    </div>
</header>

<div class="container flex-grow-1">
    <h4 class="font-weight-bold py-3 mb-4">
        Налаштування профілю
    </h4>
    <div class="tab-pane fade active show">
        <div class="alert alert-danger">
            <strong>Помилка!</strong> Дані ведено не коректно!
        </div>
        <div class="card-body media align-items-center">
            <p class="">Ім'я користувача: {{username}}</p>
            <p class="">E-mail: {{email}}</p>
        </div>
        <hr class="">
        <div class="card-body">
            <form action="" class="" method='POST'>

                {% csrf_token %}

                <div class="form-group">
                    <label class="form-label">Ім'я користувача</label>
                    <input type="text" name="username" class="form-control mb-1" value="{{username}}">
                </div>
                <div class="form-group">
                    <label class="form-label">Ім'я</label>
                    <input type="text" name="first_name" class="form-control mb-1" value="{{first_name}}">
                </div>
                <div class="form-group">
                    <label class="form-label">Прізвище</label>
                    <input type="text" name="last_name" class="form-control mb-1" value="{{last_name}}">
                </div>
                <div class="form-group">
                    <label class="form-label">E-mail</label>
                    <input type="email" name="email" class="form-control mb-1" value="{{email}}">
                </div>
                <div class="form-group">
                    <input type="submit" value="Зберегти" class="form-control">
                </div>
            </form>
        </div>
    </div>
</div>

{% else %}
<header class="d-flex justify-content-around py-3" style="user-select: auto;">
    <ul class="nav nav-pills">
        <li class="nav-item">
            <a href="{% url 'dashboard:main' %}" class="nav-link">Головна</a>
        </li>
        <li class="nav-item">
            <a href="{% url 'dashboard:info' %}" class="nav-link">Інформація</a>
        </li>
    </ul>
    <div class="d-felx flex-row">
        <ul class="nav nav-pills">
            <li class="nav-item">
                <a href="{% url 'account:login' %}" class="nav-link">Увійти</a>
            </li>
            <li class="nav-item">
                <a href="{% url 'account:reg' %}" class="nav-link">Зареєструватися</a>
            </li>
        </ul>
    </div>
</header>

<div class="container h-100 w-50">
    <!-- <div class="col align-self-center"> -->
        <div class="modal modal-alert position-static d-block py-5  ">
            <div class="align-middle modal-content rounded-4 shadow">
                <div class="modal-body p-4 text-center">
                    <h5 class="mb-0">Ви не увійшли до системи!</h5>
                    <p class="mb-0">Будласка увійдіть до системи, або зареєструйтеся, якщо ще не маєте акаунту.</p>
                </div>
                <div class="modal-footer flex-nowrap p-0 justify-content-around">
                    <a href="{% url 'account:login' %}" class="text-decoration-none text-success">Увійти</a>
                    <a href="{% url 'account:reg' %}" class="text-decoration-none text-success">Зареєструватися</a>
                </div>
            </div>
        </div>
    <!-- </div> -->
</div>
{% endif %}
{% endblock %}
